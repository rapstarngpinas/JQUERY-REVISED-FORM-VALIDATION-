<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Revised Validation Form</title>
<script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>

<style>
:root{
  --blue:#2563eb;
  --pink:#f472b6;
  --paper:#fffdf5;
  --line:#d0d7e2;
  --border:#1e1e1e;
  --radius:12px;
  font-family:'Comic Sans MS','Segoe UI',sans-serif;
}

body{
  background:#f7f3e9;
  margin:0;
  padding:20px;
  display:flex;
  justify-content:center;
}

.container{
  width:100%;
  max-width:600px;
}

.card{
  background:var(--paper);
  padding:20px;
  border-radius:var(--radius);
  box-shadow:4px 4px 0 #222;
  border:3px solid var(--border);
  background-image:linear-gradient(var(--paper) 95%, rgba(0,0,0,0.03) 100%),
                   repeating-linear-gradient(to bottom, transparent 0 28px, var(--line) 28px 29px);
}

header h1{
  font-size:26px;
  text-align:center;
  color:#111;
  margin-bottom:8px;
  text-shadow:2px 2px #fff;
}
header p{text-align:center; color:#444;}

label{
  font-weight:bold;
  color:#222;
  font-size:14px;
  margin-bottom:4px;
  display:block;
}

input, select, textarea{
  width:100%;
  padding:10px;
  border:2px solid #222;
  border-radius:var(--radius);
  background:#fff;
  font-size:15px;
  outline:none;
}

input:focus, select:focus, textarea:focus{
  border-color:var(--blue);
  background:#eef4ff;
}

.error{
  color:#d62828;
  font-size:13px;
  margin-top:4px;
  height:16px;
}

.valid{border-color:#22c55e !important;}
.invalid{border-color:#e11d48 !important;}

.actions{
  display:flex;
  justify-content:flex-end;
  gap:10px;
  margin-top:14px;
}

button{
  border:none;
  padding:10px 16px;
  border-radius:var(--radius);
  cursor:pointer;
  font-weight:bold;
  box-shadow:2px 2px 0 #222;
  border:2px solid #222;
}

.reset-btn{background:#f3f4f6;}
.submit-btn{background:var(--blue); color:white;}

fieldset{
  border:2px dashed #111;
  padding:12px;
  border-radius:var(--radius);
  margin-bottom:12px;
}
legend{
  padding:0 8px;
  font-size:15px;
  color:#111;
  font-weight:bold;
}

#dashboard{
  display:none;
  padding:20px;
  background:var(--paper);
  border-radius:var(--radius);
  border:3px solid #111;
  box-shadow:4px 4px 0 #222;
  animation:fade .4s ease;
}
@keyframes fade{from{opacity:0;} to{opacity:1;}}
.dash-item{
  padding:10px;
  margin-bottom:10px;
  border-radius:var(--radius);
  background:#fff;
  border:2px solid #111;
  box-shadow:2px 2px 0 #ddd;
}

/* Cartoon-style popup */
#popup{
  position:fixed;
  top:50%;
  left:50%;
  transform:translate(-50%, -50%);
  background:#fff8e1;
  border:3px dashed #d62828;
  padding:20px 28px;
  border-radius:14px;
  box-shadow:4px 4px 0 #222;
  display:none;
  z-index:9999;
  font-weight:bold;
  text-align:center;
  animation:pop 0.3s ease;
}
@keyframes pop{
  0%{transform:translate(-50%, -50%) scale(0.5); opacity:0;}
  100%{transform:translate(-50%, -50%) scale(1); opacity:1;}
}
</style>
</head>

<body>
<div class="container">

  <header>
    <h1>Revised Validation Form</h1>
    <p>Fill out all required fields</p>
  </header>

  <section class="card" id="formSection">
    <form id="studentForm" novalidate>

      <fieldset>
        <legend>Personal Information</legend>

        <label>Last Name</label>
        <input id="lastName" required />
        <div class="error"></div>

        <label>First Name</label>
        <input id="firstName" required />
        <div class="error"></div>

        <label>Middle Name (Optional)</label>
        <input id="middleName" />
        <div class="error"></div>
      </fieldset>

      <fieldset>
        <legend>Academic Info</legend>

        <label>Course</label>
        <select id="course" required>
          <option value="">Select Course</option>
          <option>BSIT</option>
          <option>BSCPE</option>
          <option>BSBA</option>
          <option>BSEd</option>
          <option>Other</option>
        </select>
        <div class="error"></div>

        <label>Year</label>
        <select id="year" required>
          <option value="">Select Year</option>
          <option>1st Year</option>
          <option>2nd Year</option>
          <option>3rd Year</option>
          <option>4th Year</option>
        </select>
        <div class="error"></div>

        <label>Section</label>
        <select id="section" required>
          <option value="">Select Section</option>
          <option>A</option>
          <option>B</option>
          <option>C</option>
          <option>D</option>
        </select>
        <div class="error"></div>

        <label>Student Number (Format: 24-35924)</label>
        <input id="studentNumber" maxlength="8" required />
        <div class="error"></div>
      </fieldset>

      <fieldset>
        <legend>Contact Information</legend>

        <label>Date of Birth</label>
        <input type="date" id="dob" required />
        <div class="error"></div>

        <label>Gender</label>
        <select id="gender" required>
          <option value="">Select Gender</option>
          <option>Male</option>
          <option>Female</option>
          <option>Other</option>
        </select>
        <div class="error"></div>

        <label>Complete Address</label>
        <textarea id="address" required></textarea>
        <div class="error"></div>

        <label>Contact Number (09512345678)</label>
        <input id="contact" maxlength="11" required />
        <div class="error"></div>

        <label>Email</label>
        <input type="email" id="email" required />
        <div class="error"></div>

      </fieldset>

      <div class="actions">
        <button type="reset" class="reset-btn">Reset</button>
        <button type="submit" class="submit-btn">Submit</button>
      </div>

    </form>
  </section>

  <section id="dashboard">
    <h2>Submission Dashboard</h2>
    <div id="dashContent"></div>
  </section>

</div>

<div id="popup"></div>

<script>
function showPopup(message){
  $("#popup").text(message).fadeIn(200);
  setTimeout(()=> $("#popup").fadeOut(500),1500);
}

// Letters-only validation for names
$("#lastName, #firstName, #middleName").on("input", function(){
  if(/[^A-Za-z\s]/.test(this.value)){
    this.value = this.value.replace(/[^A-Za-z\s]/g,"");
    showPopup("Numbers & symbols not allowed in names!");
  }
});

// Student number format 24-35924
$("#studentNumber").on("input", function(){
  this.value = this.value.replace(/[^0-9]/g,"");
  if(this.value.length > 2 && !this.value.includes("-")){
    this.value = this.value.slice(0,2) + "-" + this.value.slice(2);
  }
});

// Contact number format
$("#contact").on("input", function(){
  this.value = this.value.replace(/[^0-9]/g,"");
});

// Prevent future dates
$("#dob").on("change", function(){
  let today = new Date().toISOString().split("T")[0];
  if(this.value > today){
    this.value = "";
    showPopup("Future dates are not allowed!");
  }
});

// Live validation
$("input, select, textarea").on("blur change keyup", function(){
  let val = $(this).val().trim();
  let error = $(this).siblings(".error");

  if(val === ""){
    $(this).addClass("invalid").removeClass("valid");
    error.text("This field is required.");
  } else {
    $(this).addClass("valid").removeClass("invalid");
    error.text("");
  }
});

// Submit form
$("#studentForm").on("submit", function(e){
  e.preventDefault();
  let valid = true;

  $("input[required], select[required], textarea[required]").each(function(){
    if($(this).val().trim() === ""){
      $(this).addClass("invalid");
      $(this).siblings(".error").text("This field is required.");
      valid = false;
    }
  });

  // Email check
  let emailPattern = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
  if(!emailPattern.test($("#email").val())){
    $("#email").addClass("invalid");
    $("#email").siblings(".error").text("Invalid email format.");
    valid = false;
  }

  // Student number check
  let snPattern = /^\d{2}-\d{5}$/;
  if(!snPattern.test($("#studentNumber").val())){
    $("#studentNumber").addClass("invalid");
    $("#studentNumber").siblings(".error").text("This field is required.");
    valid = false;
  }

  // Contact number check
  let contactPattern = /^09\d{9}$/;
  if(!contactPattern.test($("#contact").val())){
    $("#contact").addClass("invalid");
    $("#contact").siblings(".error").text("This field is required .");
    valid = false;
  }

  if(!valid) return;

  // Dashboard display
  $("#dashContent").html(`
    <div class='dash-item'><b>Name:</b> ${lastName.value} ${firstName.value} ${middleName.value}</div>
    <div class='dash-item'><b>Course:</b> ${course.value}</div>
    <div class='dash-item'><b>Year & Section:</b> ${year.value} - ${section.value}</div>
    <div class='dash-item'><b>Student Number:</b> ${studentNumber.value}</div>
    <div class='dash-item'><b>Birthday:</b> ${dob.value}</div>
    <div class='dash-item'><b>Gender:</b> ${gender.value}</div>
    <div class='dash-item'><b>Address:</b> ${address.value}</div>
    <div class='dash-item'><b>Contact:</b> ${contact.value}</div>
    <div class='dash-item'><b>Email:</b> ${email.value}</div>
  `);

  $("#formSection").hide();
  $("#dashboard").fadeIn();
});
</script>

</body>
</html>
